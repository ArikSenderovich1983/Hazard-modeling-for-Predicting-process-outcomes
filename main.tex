\documentclass[runningheads]{llncs}
\usepackage{amsmath, amssymb, amsfonts}
\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{algorithm}
\usepackage{algpseudocode} % for \Require, \State, \For, etc.
\usepackage{xcolor}
\usepackage{hyperref}

\begin{document}

\title{Process-Aware Prediction of Process Outcomes: Integrating Dynamic Pathway Mining with Survival Modeling for Early Intervention}
\author{Zeinab Soleimani \and Arik Senderovich  \and Mathias Weske}
%\institute{York University, University of Potsdam, Hasso Plattner Institute, Mount Sinai}
\maketitle

% ============================================================
\begin{abstract}
Outcome-oriented predictive process monitoring seeks to estimate, in real time, the probability that an ongoing case will lead to a desirable or adverse outcome and to support timely intervention. Existing work has largely focused on classification or regression at fixed horizons, often ignoring irregular timing of events and the need to update risk as new activities occur. We propose a process-aware survival framework that integrates event-log--based process mining with time-to-event modeling to continuously estimate the hazard of outcome occurrence along a case's trajectory. Three methodological variants are compared: (A) process-derived dynamic covariates embedded in conventional survival models; (B) sequence-to-outcome deep models operating directly on event logs; and (C) hybrid cluster--survival approaches that combine pathway abstraction with time-to-event modeling. As a high-stakes case study, we instantiate the framework on large-scale OMOP-formatted electronic health records to predict onset of Treatment-Resistant Depression (TRD) in patients with Major Depressive Disorder. Results indicate that early trajectory dynamics carry substantial predictive signal, enabling earlier and more targeted intervention than static baseline models.
\keywords{Process Mining \and Predictive Process Monitoring \and Survival Analysis \and Early Intervention \and Healthcare Analytics \and Treatment-Resistant Depression}
\end{abstract}

% ============================================================
\section{Introduction}
Organizations increasingly rely on event data to monitor and steer complex processes in domains such as healthcare, finance, and manufacturing. Process mining provides tools to reconstruct, visualize, and analyze such processes from event logs, but most applications remain descriptive---explaining what has happened---rather than predictive or prescriptive---anticipating what will happen and how to intervene. Outcome-oriented predictive process monitoring addresses this gap by forecasting whether an ongoing case will eventually lead to a particular outcome, so that resources and interventions can be allocated proactively \cite{Teinemaa2019OutcomeOriented,vanderAalst2016ProcessMining}.

However, many real-world processes evolve over irregular time scales and exhibit recurrent events, making \emph{when} an outcome occurs as important as \emph{whether} it occurs. In such settings, survival and multi-state modeling offer a natural foundation for estimating time-to-event distributions, yet classical survival analysis typically operates on static or coarsely updated covariates. Bridging process mining with dynamic survival modeling is essential to capture how evolving pathway patterns reshape risk over time and to support early-warning and what-if analyses.

This paper introduces a unified framework for process-aware survival prediction that treats the event log itself as the primary data source for constructing dynamic covariates and sequence representations. We propose and compare three methodological instantiations---process-derived dynamic covariates, sequence-to-outcome deep models, and hybrid cluster--survival approaches---and discuss how they can be used not only for prediction but also for early intervention and prescriptive decision support.

As a high-impact case study, we apply the framework to electronic health record event logs describing antidepressant treatment trajectories in patients diagnosed with Major Depressive Disorder. There, the outcome of interest is the onset of Treatment-Resistant Depression (TRD), a severe condition that develops in a substantial fraction of patients and is associated with poor clinical and economic outcomes. By viewing TRD prediction as one instance of process-aware outcome prediction, we demonstrate how the proposed methodology can generalize to other domains where early identification of adverse trajectories is critical.

% ============================================================
\section{Background}
\subsection{Process Mining for Clinical Pathways}
Briefly review process mining fundamentals: event logs, trace variants, Directly-Follows Graphs (DFGs), abstraction levels, and how these capture patient-level care sequences. Discuss prior descriptive analyses of TRD vs. non-TRD trajectories \cite{vanderAalst2016ProcessMining,Soleimani2025TRD}.

\subsection{Survival and Multi-State Modeling}
Outline standard and recurrent-event survival models, Cox proportional hazards, and interval censoring \cite{Cox1972Regression,Therneau2000Modeling}. Highlight the challenge that ``non-TRD'' is not absence of resistance but right-censoring.

\subsection{Process-Aware Outcome Prediction}
Position the work within the broader field of process outcome prediction and process-aware survival modeling \cite{Teinemaa2019OutcomeOriented,vanderAalst2016ProcessMining}. Mention applications in manufacturing, patient flow, and business process management.

\subsection{Motivating Example: Early Detection of Treatment-Resistant Depression}
As a motivating example, consider pharmacotherapy pathways for patients diagnosed with Major Depressive Disorder, recorded as longitudinal event logs in OMOP-formatted electronic health records. Each trace corresponds to a patient's sequence of antidepressant-related activities (e.g., drug initiations, switches, and augmentations) together with timestamps and basic clinical context. The adverse outcome of interest is onset of Treatment-Resistant Depression (TRD), typically defined as insufficient response to at least two adequate treatment trials, which is associated with elevated morbidity, healthcare utilization, and cost.

From a process-monitoring perspective, the central question is not only whether a given patient will eventually develop TRD but also how the evolving treatment trajectory reshapes that risk over time, and when an early-warning signal becomes strong enough to trigger intervention. This setting exemplifies broader challenges in outcome-oriented predictive process monitoring: irregularly spaced events, time-varying covariates, competing notions of ``non-occurrence'' (e.g., right-censoring vs.\ true non-TRD), and the need to balance predictive accuracy with interpretability for clinicians. We use this TRD scenario as a running case study in our experiments to illustrate how the proposed framework can support early identification of high-risk trajectories and inform prescriptive intervention design.

% ============================================================
\section{Proposed Model and Framework}
We represent each \emph{case} as a time-ordered sequence of \emph{events}, encoded as an event log $L = \{ \langle e_{1}, e_{2}, ..., e_{n} \rangle_i \}_{i=1}^{N}$, where each event $e_j = (a_j, t_j, c_j)$ comprises the activity label $a_j$, timestamp $t_j$, and optional case- or event-level attributes $c_j$.

The goal is to estimate, for each running case $i$, the hazard $h_i(t)$ or conditional probability $P(Y_i(t) = 1 \mid L_i^{\le t})$ that a specified outcome of interest $Y$ will occur, given the partial trace observed up to time $t$.

Three complementary modeling options are considered.

% ------------------------------------------------------------
\subsection{Process-Derived Dynamic Covariates}
Process mining metrics (e.g., transition frequencies, pathway entropy, switch rates) are extracted within sliding time windows and used as time-varying covariates in a Cox or joint survival model.

\begin{algorithm}[h]
\caption{Process-Aware Dynamic Survival Modeling for Event Logs}
\begin{algorithmic}[1]
\Require Event log $L$, time horizon $T$, window size $w$
\For{each case $i$}
    \For{each time window $t=1,\ldots,T/w$}
        \State Extract process features $X_i(t)$ from events in $[t-w, t]$
        \State Update survival model: $h_i(t)=h_0(t)\exp(\beta^\top X_i(t))$
    \EndFor
\EndFor
\State Estimate outcome risk curves via partial likelihood or landmarking.
\end{algorithmic}
\end{algorithm}

% ------------------------------------------------------------
\subsection{Sequence-to-Outcome Deep Model}
Learn representations directly from event sequences using RNNs or Transformers that embed both temporal and categorical event data. The model predicts survival probability or discrete-time risk for the outcome of interest.

\begin{algorithm}[h]
\caption{Sequence-to-Outcome Deep Learning}
\begin{algorithmic}[1]
\Require Tokenized event sequences $\{L_i\}$ with timestamps
\State Embed events into vector space $(a_j, \Delta t_j)$
\State Train model $f_\theta$ to output $P_\theta(Y_i(t)=1 \mid L_i^{\le t})$
\State Loss = negative log partial likelihood or time-dependent cross-entropy
\State Evaluate with C-index, time-dependent AUC
\end{algorithmic}
\end{algorithm}

% ------------------------------------------------------------
\subsection{Hybrid Process Clustering + Survival}
Cluster early trajectories using process-mining similarity (e.g., trace distance, DFG embeddings). Fit separate survival models per cluster to quantify outcome risk conditional on pathway type.

\begin{algorithm}[h]
\caption{Hybrid Process Clustering and Survival Modeling}
\begin{algorithmic}[1]
\Require Event log $L$, clustering function $\Phi(\cdot)$
\State Compute pairwise trace distances $d(L_i,L_j)$
\State Derive clusters $C_1,\ldots,C_k = \Phi(L,d)$
\For{each cluster $C_k$}
    \State Fit survival model: $h_k(t)=h_{0k}(t)\exp(\beta_k^\top X_i)$
\EndFor
\State Predict risk per case by cluster membership.
\end{algorithmic}
\end{algorithm}

% ============================================================
\section{Experimental Setup}
\subsection{Data and Cohort}
Describe the EHR dataset (OMOP format), inclusion criteria, TRD definition, censoring, and preprocessing.

\subsection{Research Question}
Evaluate: \emph{How early can we predict TRD onset using partial process histories?}
Compare models (Aâ€“C) on prediction horizon (3, 6, 12 months after MDD diagnosis).

\subsection{Metrics}
Use discrimination (C-index), calibration (Brier score), and net benefit (Decision Curve Analysis). Assess interpretability through feature importance and transition-level hazard ratios.

\subsection{Implementation}
Detail PM4Py for event abstraction, \texttt{lifelines}/\texttt{scikit-survival} for modeling, and PyTorch for sequence models. Mention reproducibility via open repository.

% ============================================================
\section{Results and Discussion}
Summarize expected findings:
\begin{itemize}
  \item Dynamic process covariates significantly improve early prediction of TRD.
  \item Deep models capture complex switching behavior but trade off interpretability.
  \item Cluster-based survival highlights distinct high-risk pathway archetypes.
\end{itemize}
Discuss clinical implications for adaptive intervention and potential integration into decision-support systems.

% ============================================================
\section{Related Work}
Cite prior work in:
\begin{itemize}
  \item Process mining in psychiatry and pharmacotherapy (e.g., \cite{Soleimani2025TRD})
  \item Process outcome prediction (e.g., \cite{Teinemaa2019OutcomeOriented})
  \item Survival analysis for recurrent or multi-state events in healthcare (e.g., \cite{Cox1972Regression,Therneau2000Modeling})
  \item Hybrid PM--ML frameworks combining process mining and machine learning \cite{vanderAalst2016ProcessMining}
\end{itemize}

% ============================================================
\section{Conclusion}
We proposed a process-aware predictive framework for early detection of Treatment-Resistant Depression, combining descriptive process mining with time-to-event modeling. By treating process features as dynamic covariates or embedding full event sequences into predictive architectures, we enable data-driven early-warning systems that bridge interpretability and accuracy. Future work includes multi-site validation, incorporation of psychotherapy and demographic covariates, and integration into clinical workflows for adaptive antidepressant management.

\bibliographystyle{splncs04}
\bibliography{refs}

\end{document}
